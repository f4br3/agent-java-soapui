plugins {
    id 'net.researchgate.release' version '2.4.1'
    id "com.jfrog.bintray" version "1.7"
}
apply plugin: 'java'
apply from: 'release.gradle'
apply from: 'quality.gradle'
sourceCompatibility = 1.6
targetCompatibility = 1.6
description = 'EPAM Report portal. SoapUI client API'
repositories {
    jcenter()
    maven { url "http://dl.bintray.com/epam/reportportal" }
    maven { url "http://www.eviware.com/repository/maven2" }
}

dependencies {
    compile 'eviware:soapui:4.5.1'
    compileOnly 'log4j:log4j:1.2.17'
    compile 'com.epam.reportportal:client-java-core:2.5.1'
    compile 'com.epam.reportportal:logger-java-log4j:2.6.1'
}

task zip(type: Zip, overwrite: true) {
    def path = "${project.projectDir}/src/main/resources/"
    classifier = '-full'
    from jar.outputs.files
    into('/libs') {
        from configurations.compile
    }
    from(path, {
        include 'soapui-log4j.xml'
        into('/bin')
    })
    from(path, {
        include 'reportportal-listeners.xml'
        into('/bin/listeners')
    })
}
build.dependsOn zip


